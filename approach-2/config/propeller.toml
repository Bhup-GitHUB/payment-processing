[service]
name = "propeller"

[grpc]
address = "0.0.0.0:50051"
ping_interval_secs = 30
ping_timeout_secs = 10
enable_reflection = true

[http]
address = "0.0.0.0:8080"

[broker]
kind = "redis"
address = "redis://127.0.0.1:6379"

[client]
header = "x-client-id"
device_header = "x-device-id"
enable_device_support = true
device_attribute_headers = ["x-os", "x-app-version"]

[auth]
enabled = true
legacy_header_mode = true
tenant_claim = "tenant_id"
legacy_tenant = "legacy"
api_keys = ["dev-publisher-key"]

[auth.jwt]
issuer = "propeller-dev"
audience = "propeller-clients"
clock_skew_secs = 30
hmac_secret = "change-me-dev-secret"
